<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Agency</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous" />

<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
	integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
	crossorigin="anonymous" />
<link rel="stylesheet" href="./style.css" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script>
	function save() {
		if (document.getElementById('agencyname').value == '') {
			alert('missing name');
			return
		}
		if (document.getElementById('agencytype').value == '') {
			alert('missing type');
			return
		}
		if (document.getElementById('agencyaddress').value == '') {
			alert('missing address');
			return
		}
		if (document.getElementById('agencydesc').value == '') {
			alert('missing desc');
			return
		}
		var data = {}
		data["agencyname"] = $("#agencyname").val();
		data["agencytype"] = $("#agencytype").val();
		data["agencyaddress"] = $("#agencyaddress").val();
		data["agencydesc"] = $("#agencydesc").val();

		$.ajax({
			url : "/agency",
			contentType : "application/json",
			data : JSON.stringify(data),
			type : "post",
			dataType : 'json',
			success : function(resp, status) {
				window.alert("Successfully Added");
			}
		});
	}
</script>
<body>
	<main>
		<div class="container text-center">
			<h1 class="bg-light py-4 text-info">
				<i class="fas fa-user-graduate"></i> Welcome to Agency Details
			</h1>
			<div class="d-flex justify-content-center row g-3 needs-validation">
				<div class="w-50">

					<input type="text" id="agencyname" name="agencyname"
						class="form-control " autocomplete="off" placeholder="Agency Name"
						required /><br> <span id="sp1" class="text-danger"></span> 
					<input type="text" id="agencytype" name="agencytype" class="form-control"
						autocomplete="off" placeholder="agency type" required /><br>
					<input type="text" id="agencyaddress" name="agencyaddress"
						class="form-control " autocomplete="off"
						placeholder="Agency Address" required /><br> 
					<input type="text" id="agencydesc" name="agencydesc"
						class="form-control " autocomplete="off" placeholder="Agency Desc"
						required /><br> 
					<input style="margin-left: 10%; margin-right: 10%;" type="submit"
						value="submit" class="btn btn-success" onclick='save();' /><br>

				</div>
			</div>
		</div>
	</main>

	<!-- Labels -->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous">
		
	</script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous">
		
	</script>

	<!-- Include Dexie -->
	<script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>
</body>
</html>